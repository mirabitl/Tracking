import csv
import json

def parse(filename):
    csvfile=open(filename)
    rd=csv.reader(csvfile, delimiter='\t')
    LR=[]
    LC=[]
    for i in range(48):
        LR.append(0)
        LC.append(0)
    for row in rd:
        #print(row[0][:2],row[0][len(row[0])-1])
        if (row[0][:2]!='/S'):
            continue
        strip=int(row[0][2:len(row[0])-1])-1
        if (row[0][len(row[0])-1]=='R'):
            LR[strip]=float(row[1])
        if (row[0][len(row[0])-1]=='D'):
            LC[strip]=float(row[1])
    #print(LR)
    #print(LC)
    s={}
    s["LR"]=LR
    s["LC"]=LC
    return s
if __name__ == "__main__":

    XT031 = [0.75, 12.135525, 23.521051, 34.906576, 46.292101, 57.677626, 69.063152, 80.448677, 91.834202, 103.219728, 114.605253, 125.990778, 137.376303, 148.761829, 160.147354, 171.532879, 182.918405, 194.30393, 205.689455, 217.07498, 228.460506, 239.846031, 251.231556, 262.617082, 274.002607, 285.388132, 296.773657, 308.159183, 319.544708, 330.930233, 342.315758, 353.701284, 365.086809, 376.472334, 387.85786, 399.243385, 410.62891, 422.014435, 433.399961, 444.785486, 456.171011, 467.556537, 478.942062, 490.327587, 501.713112, 511.520357, 520.962511, 530.335895]
    YT031=[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9.54039499999999, 20.82492, 32.027257]
    XB031= [0.75, 6.74246299999999, 12.734926, 18.727389, 24.719852, 30.712315, 36.704778, 42.697241, 48.689704, 54.682167, 60.67463, 66.667093, 72.659557, 78.65202, 84.644483, 90.636946, 96.629409, 102.621872, 108.614335, 114.606798, 120.599261, 126.591724, 132.584187, 138.57665, 144.569113, 150.561576, 156.554039, 162.546502, 168.538965, 174.531428, 180.523891, 186.516354, 192.508817, 198.50128, 204.493744, 210.486207, 216.47867, 222.471133, 228.463596, 234.456059, 241.025566, 247.902391, 254.827969, 261.802821, 268.827475, 275.902467, 283.028338, 290.20564]
    YB031= [1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1463.075864, 1457.304243, 1451.491705, 1445.637811, 1439.742119, 1433.80418, 1427.823538, 1421.799731]

    XB131= [6.24246299999999, 12.234926, 18.227389, 24.219852, 30.212315, 36.204778, 42.197241, 48.189704, 54.182167, 60.17463, 66.167093, 72.159557, 78.15202, 84.144483, 90.136946, 96.129409, 102.121872, 108.114335, 114.106798, 120.099261, 126.091724, 132.084187, 138.07665, 144.069113, 150.061576, 156.054039, 162.046502, 168.038965, 174.031428, 180.023891, 186.016354, 192.008817, 198.00128, 203.993744, 209.986207, 215.97867, 221.971133, 227.963596, 233.956059, 236.35, 247.329979, 254.253528, 261.226337, 268.248933, 275.321852, 282.445635, 289.620835, 296.848009]

    YB131= [1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1467, 1457.78466, 1451.973824, 1446.121646, 1440.227681, 1434.291482, 1428.312592, 1422.29055, 1416.224886]

    XT131= [11.635525, 23.021051, 34.406576, 45.792101, 57.177626, 68.563152, 79.948677, 91.334202, 102.719728, 114.105253, 125.490778, 136.876303, 148.261829, 159.647354, 171.032879, 182.418405, 193.80393, 205.189455, 216.57498, 227.960506, 239.346031, 250.731556, 262.117082, 273.502607, 284.888132, 296.273657, 307.659183, 319.044708, 330.430233, 341.815758, 353.201284, 364.586809, 375.972334, 387.35786, 398.743385, 410.12891, 421.514435, 432.899961, 444.285486, 455.671011, 467.056537, 478.442062, 489.827587, 501.213112, 503.537578, 520.546573, 529.921472, 539.22834]
    YT131= [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 20.327824, 31.531972, 42.654814]

    XT041= [0.00,12.00,23.00,34.00,46.00,57.00,69.00,80.00,91.00,103.00,114.00,125.00,137.00,148.00,160.00,171.00,182.00,194.00,205.00,217.00,228.00,239.00,251.00,262.00,274.00,285.00,296.00,308.00,319.00,330.00,342.00,353.00,365.00,376.00,387.00,399.00,410.00,422.00,433.00,444.00,456.00,467.00,478.00,490.00,501.00,511.00,520.00,530.00]
    YT041= [ 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00,10.00,21.00,32.00]
    XB041= [ 0.00, 7.00,14.00,21.00,28.00,35.00,42.00,49.00,55.00,62.00,69.00,76.00,83.00,90.00,97.00,104.00,111.00,118.00,125.00,131.00,138.00,145.00,152.00,159.00,166.00,173.00,180.00,187.00,194.00,200.00,207.00,214.00,221.00,228.00,235.00,242.00,249.00,256.00,263.00,270.00,276.00,284.00,292.00,300.00,308.00,316.00,324.00,333.00]
    YB041= [1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1216.00,1209.00,1202.00,1195.00,1189.00,1182.00,1175.00]
    XT141= [11.00,23.00,34.00,45.00,57.00,68.00,79.00,91.00,102.00,114.00,125.00,136.00,148.00,159.00,171.00,182.00,193.00,205.00,216.00,227.00,239.00,250.00,262.00,273.00,284.00,296.00,307.00,319.00,330.00,341.00,353.00,364.00,375.00,387.00,398.00,410.00,421.00,432.00,444.00,455.00,467.00,478.00,489.00,501.00,503.00,520.00,529.00,539.00]
    YT141= [ 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00,21.00,32.00,43.00]
    XB141= [ 7.00,14.00,20.00,27.00,34.00,41.00,48.00,55.00,62.00,69.00,76.00,83.00,90.00,96.00,103.00,110.00,117.00,124.00,131.00,138.00,145.00,152.00,159.00,165.00,172.00,179.00,186.00,193.00,200.00,207.00,214.00,221.00,228.00,235.00,241.00,248.00,255.00,262.00,269.00,276.00,279.00,291.00,299.00,307.00,316.00,324.00,332.00,340.00]
    YB141= [1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1220.00,1209.00,1203.00,1196.00,1189.00,1182.00,1175.00,1168.00]

    
    LS31=[1468.002441, 1468.022339, 1468.062012, 1468.121460, 1468.200928, 1468.300049, 1468.419067, 1468.557861, 1467.717041, 1468.895020, 1469.093262, 1469.311279, 1469.549194, 1469.806763, 1470.084229, 1470.381348, 1470.698242, 1471.034790, 1471.391235, 1471.767212, 1472.162964, 1472.578247, 1473.013306, 1473.468018, 1473.942383, 1474.436279, 1474.949707, 1475.482788, 1476.035400, 1476.607544, 1477.199097, 1477.810181, 1477.132324, 1479.090576, 1479.760010, 1480.448730, 1480.165649, 1481.884155, 1482.630737, 1481.655518, 1477.538940, 1472.481323, 1466.406738, 1462.278442, 1452.549316, 1436.809814, 1420.182617, 1403.590942]
    LS41=[1227.423828,1227.126099,1220.051514,1220.100952,1220.166870,1220.249268,1220.129150,1220.048218,1220.830566,1220.743408,1220.908203,1220.385437,1220.453369,1221.862793,1221.177856,1221.770844,1221.770844,1222.520996,1222.817017,1223.129395,1223.458008,1223.803101,1224.164551,1224.542236,1224.936279,1225.346436,1225.773071,1226.215820,1225.540161,1227.914307,1226.424438,1228.963013,1228.963013,1229.212769,1229.768799,1230.340942,1230.929077,1231.533203,1232.153442,1232.789673,1234.478271,1225.268066,1220.836914,1214.699097,1203.984131,1187.263916,1179.133911,1151.987427]
    for i in range(48):
        LS31[i]=int(LS31[i]*100)/100.
        LS41[i]=int(LS41[i]*100)/100.
        
        XT031[i]=int(XT031[i]*100)/100.
        YT031[i]=int(YT031[i]*100)/100.
        XB031[i]=int(XB031[i]*100)/100.
        YB031[i]=int(YB031[i]*100)/100.
        XT131[i]=int(XT131[i]*100)/100.
        YT131[i]=int(YT131[i]*100)/100.
        XB131[i]=int(XB131[i]*100)/100.
        YB131[i]=int(YB131[i]*100)/100.
        
        XT041[i]=int(XT041[i]*100)/100.
        YT041[i]=int(YT041[i]*100)/100.
        XB041[i]=int(XB041[i]*100)/100.
        YB041[i]=int(YB041[i]*100)/100.
        XT141[i]=int(XT141[i]*100)/100.
        YT141[i]=int(YT141[i]*100)/100.
        XB141[i]=int(XB141[i]*100)/100.
        YB141[i]=int(YB141[i]*100)/100.

    sum={}
    sum["RE31_RIGHT"]=parse('re31_d.csv')
    sum["RE31_RIGHT"]["LS"]=LS31
    sum["RE31_RIGHT"]["XT0"]=XT031
    sum["RE31_RIGHT"]["YT0"]=YT031
    sum["RE31_RIGHT"]["XB0"]=XB031
    sum["RE31_RIGHT"]["XB0"]=YB031
    sum["RE31_RIGHT"]["XT1"]=XT131
    sum["RE31_RIGHT"]["YT1"]=YT131
    sum["RE31_RIGHT"]["XB1"]=XB131
    sum["RE31_RIGHT"]["XB1"]=YB131
    
    sum["RE31_LEFT"]=parse('re31_g.csv')
    sum["RE31_LEFT"]["LS"]=LS31
    sum["RE31_LEFT"]["XT0"]=XT031
    sum["RE31_LEFT"]["YT0"]=YT031
    sum["RE31_LEFT"]["XB0"]=XB031
    sum["RE31_LEFT"]["XB0"]=YB031
    sum["RE31_LEFT"]["XT1"]=XT131
    sum["RE31_LEFT"]["YT1"]=YT131
    sum["RE31_LEFT"]["XB1"]=XB131
    sum["RE31_LEFT"]["XB1"]=YB131

    sum["RE41_RIGHT"]=parse('re41_d.csv')
    sum["RE41_RIGHT"]["LS"]=LS41
    sum["RE41_RIGHT"]["XT0"]=XT041
    sum["RE41_RIGHT"]["YT0"]=YT041
    sum["RE41_RIGHT"]["XB0"]=XB041
    sum["RE41_RIGHT"]["XB0"]=YB041
    sum["RE41_RIGHT"]["XT1"]=XT141
    sum["RE41_RIGHT"]["YT1"]=YT141
    sum["RE41_RIGHT"]["XB1"]=XB141
    sum["RE41_RIGHT"]["XB1"]=YB141

    sum["RE41_LEFT"]=parse('re41_g.csv')
    sum["RE41_LEFT"]["LS"]=LS41
    sum["RE41_LEFT"]["XT0"]=XT041
    sum["RE41_LEFT"]["YT0"]=YT041
    sum["RE41_LEFT"]["XB0"]=XB041
    sum["RE41_LEFT"]["XB0"]=YB041
    sum["RE41_LEFT"]["XT1"]=XT141
    sum["RE41_LEFT"]["YT1"]=YT141
    sum["RE41_LEFT"]["XB1"]=XB141
    sum["RE41_LEFT"]["XB1"]=YB141

    #print(json.dumps(sum, indent=2))
    f=open("IRPCGeometry.json","w+")
    f.write(json.dumps(sum, indent=2, sort_keys=True))
    f.close()
